<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="main.java.dao.INannyDao">

    <insert id="insertNanny" parameterType="java.util.Map">
        insert into nanny_info
        (`nannyNo`,`nannyName`, `sex`, `birthday`, `mobile`, `tag`, `aim`, `describe`,`pinCard`, `address`, `edu`, `require`)
        VALUES
        (#{nannyNo}, #{nannyName}, #{sex}, #{birthday}, #{mobile}, #{tag}, #{aim}, #{describe}, #{pinCard}, #{address}, #{edu}, #{require})
    </insert>

    <update id="updateNannyPassword" parameterType="java.util.Map">
      update nanny_info
      <set>
          password = #{password}
      </set>
        <where>
            1=1
            <if test="id !=null and id !='' ">
                and id = #{id}
            </if>
            <if test="nannyNo != null and nannyNo != '' ">
                and nannyNo = #{nannyNo}
            </if>
        </where>
    </update>
    
    <select id="selectNannyByNo" parameterType="java.util.Map" resultType="java.util.Map">
        select * from nanny_info
        <where>
            1=1 and nannyNo = #{nannyNo}
        </where>
    </select>

    <select id="selectNannyPage" parameterType="java.util.Map" resultType="java.util.Map">
        select * from nanny_info
        ORDER BY id DESC
        limit  #{offet} , #{limit}
    </select>

    <sql id="selectCondition">
        <where>
            1=1
            <if test="nannyName != null and nannyName != '' ">
                and `nannyName` = #{name}
            </if>
            <if test="pinCard != null and pinCard != '' ">
                and pinCard = #{pinCard}
            </if>
            <if test="mobile != null and mobile != '' ">
                and mobile = #{mobile}
            </if>
            <if test="nannyNo != null and nannyNo != '' ">
                and `nannyNo` = #{nannyNo}
            </if>
        </where>
    </sql>

</mapper>